{
    "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {
        "databaseAdminUsername": {
            "type": "string",
            "metadata": {
                "description": "Username for DB Admin"
            }
        },
        "databaseAdminPassword": {
            "type": "securestring",
            "metadata": {
                "description": "Password for DB Admin"
            }
        },
        "location": {
            "type": "string",
            "defaultValue": "UK South",
            "metadata": {
                "description": "Location for all resources."
            }
        }
    },
    "variables": {
        "storageAccountName": "fsk67gmvunlwmstorage",
        "serverName": "serverfsk67gmvunlwm",
        "databaseName": "DB",
        "databaseCollation": "SQL_Latin1_General_CP1_CI_AS",
        "databaseEdition": "Basic",
        "databaseRequestedServiceObjectiveName": "Basic"
    },
    "outputs": {
        "AzureStorage_connectionString": {
            "type": "string",
            "value": "[concat('DefaultEndpointsProtocol=https;AccountName=',variables('storageAccountName'),';AccountKey=',listKeys(resourceId('Microsoft.Storage/storageAccounts', variables('storageAccountName')), '2016-01-01').keys[0].value)]"
        },
        "AzureSqlDatabase_connectionString": {
            "type": "string",
            "value": "[concat('Server=tcp:', variables('serverName'),'.database.windows.net,1433;Initial Catalog=',variables('databaseName'), ';Persist Security Info=False;User ID=', parameters('databaseAdminUsername'), ';Password=', parameters('databaseAdminPassword'), ';Encrypt=True;TrustServerCertificate=False;Connection Timeout=30;')]"
        }
    }
}
